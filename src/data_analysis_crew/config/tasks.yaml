collect_and_clean_data:
  description: >
    Load the dataset from the provided path and perform initial cleaning:
    - Remove nulls
    - Normalize column names
    - Identify categorical vs. numeric features

    Data Source: {data_source}
  expected_output: >
    A cleaned pandas-compatible dataset ready for downstream analysis.
  agent: data_engineer

analyze_data:
  description: >
    Analyze the cleaned dataset to identify which features relate most strongly
    to the request.

    Request: {request}
  expected_output: >
    A structured analysis including key correlations and feature importance.
  agent: data_analyst
  context: [collect_and_clean_data]

build_predictive_model:
  description: >
    Using the cleaned dataset, build a simple predictive model to classify or
    estimate the target variable. Split the dataset into training and testing sets,
    and evaluate the model using accuracy, F1 score, and confusion matrix.

    Request: {request}
  expected_output: >
    A brief summary of the model architecture, training process, and evaluation metrics.
    Include accuracy, F1 score, and a brief explanation of the results.
  agent: model_builder
  context: [collect_and_clean_data, analyze_data]
  output_file: output/model-report.md

summarize_findings:
  description: >
    Generate an executive-level summary of the findings from the analysis and modeling tasks.
    Write in Markdown, include 3-5 bullet points and a conclusion section.

    Request: {request}
  expected_output: >
    An insight summary including:
    - Top features
    - Summary of model accuracy
    - Key takeaways for stakeholders
    - Prefer simple matplotlib or seaborn plots (e.g., feature importances).
    - Use markdown-friendly tables if visualizations fail.
  agent: insight_reporter
  context: [analyze_data, build_predictive_model]
  output_file: output/final-insight-summary.md